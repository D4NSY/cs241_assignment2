<!-- Toast Fragment -->
<div th:fragment="toast(type, message)">
    <!-- Toast Container -->
    <div class="toast-container">
        <!-- Toast HTML (hidden by default) -->
        <div id="liveToast" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div id="toast-body" class="toast-body">
                    <!-- The message will be set dynamically -->
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>


    <!-- Custom JavaScript to trigger toast notifications -->
    <script th:inline="javascript">
        /*<![CDATA[*/

        let toastMessage = /*[[${message}]]*/ "";
        let toastType = /*[[${type}]]*/ 'success';

        if (toastMessage) {
            // Update the toast content and type dynamically
            const toastBody = document.getElementById('toast-body');
            toastBody.textContent = toastMessage;

            // Adjust the class based on the type (success, danger, etc.)
            const toastElement = document.getElementById('liveToast');
            toastElement.className = `toast align-items-center text-bg-${toastType} border-0`;

            // Show the toast using Bootstrap's toast function
            const toast = new bootstrap.Toast(toastElement, { delay: 3000 });  // Auto-hide after 3 seconds
            toast.show();
        }

        /*]]>*/
    </script>
</div>
